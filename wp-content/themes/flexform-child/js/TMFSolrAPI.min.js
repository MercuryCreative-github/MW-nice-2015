var TmfObjectStore=new Array;var TmfSolrAPI_version={version:1.008,date:"29 June 2013",minimumCoreVersion:1.001};var TmfSolrAPI_servicePath="http://ws.tmforum.org/Services/Content/SolrService.ashx";if(typeof TmfAPICore_version=="undefined"){alert("TMF API Core file not included! Some function calls may not work as expected")}else{if(TmfAPICore_version.version<TmfSolrAPI_version.minimumCoreVersion){alert("The required API core version("+TmfSolrAPI_version.minimumCoreVersion+") is greater than the currently included API Core ("+TmfAPICore_version.version+"). Some function calls may not work as expected")}}(function(h,v){var k=h.fn.domManip,t="_tmplitem",f=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,j={},z={},b,u={key:0,data:{}},g=0,e=0,m=[];function i(D,E,B,A){var C={data:A||(A===0||A===false)?A:(E?E.data:{}),_wrap:E?E._wrap:null,tmpl:null,parent:E||null,nodes:[],calls:o,nest:q,wrap:s,html:p,update:r};if(D){h.extend(C,D,{nodes:[],parent:E})}if(B){C.tmpl=B;C._ctnt=C._ctnt||C.tmpl(h,C);C.key=++g;(m.length?z:j)[g]=C}return C}h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,B){h.fn[A]=function(I){var H=[],E=h(I),C,D,F,J,G=this.length===1&&this[0].parentNode;b=j||{};if(G&&G.nodeType===11&&G.childNodes.length===1&&E.length===1){E[B](this[0]);H=this}else{for(D=0,F=E.length;D<F;D++){e=D;C=(D>0?this.clone(true):this).get();h(E[D])[B](C);H=H.concat(C)}e=0;H=this.pushStack(H,A,E.selector)}J=b;b=null;h.tmpl.complete(J);return H}});h.fn.extend({tmpl:function(A,B,C){return h.tmpl(this[0],A,B,C)},tmplItem:function(){return h.tmplItem(this[0])},template:function(A){return h.template(A,this[0])},domManip:function(A,H,B,G){if(A[0]&&h.isArray(A[0])){var C=h.makeArray(arguments),D=A[0],E=D.length,F=0,I;while(F<E&&!(I=h.data(D[F++],"tmplItem"))){}if(I&&e){C[2]=function(J){h.tmpl.afterManip(this,J,B)}}k.apply(this,C)}else{k.apply(this,arguments)}e=0;if(!b){h.tmpl.complete(j)}return this}});h.extend({tmpl:function(E,A,B,C){var D,F=!C;if(F){C=u;E=h.template[E]||h.template(null,E);z={}}else{if(!E){E=C.tmpl;j[C.key]=C;C.nodes=[];if(C.wrapped){y(C,C.wrapped)}return h(c(C,null,C.tmpl(h,C)))}}if(!E){return[]}if(typeof A==="function"){A=A.call(C||{})}if(B&&B.wrapped){y(B,B.wrapped)}D=h.isArray(A)?h.map(A,function(G){return G?i(B,C,E,G):null}):[i(B,C,E,A)];return F?h(c(C,null,D)):D},tmplItem:function(A){var B;if(A instanceof h){A=A[0]}while(A&&A.nodeType===1&&!(B=h.data(A,"tmplItem"))&&(A=A.parentNode)){}return B||u},template:function(A,B){if(B){if(typeof B==="string"){B=d(B)}else{if(B instanceof h){B=B[0]||{}}}if(B.nodeType){B=h.data(B,"tmpl")||h.data(B,"tmpl",d(B.innerHTML))}return typeof A==="string"?(h.template[A]=B):B}return A?(typeof A!=="string"?h.template(null,A):(h.template[A]||h.template(null,f.test(A)?A:h(A)))):null},encode:function(A){return(""+A).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});h.extend(h.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(A){j={}},afterManip:function a(C,D,A){var B=D.nodeType===11?h.makeArray(D.childNodes):D.nodeType===1?[D]:[];A.call(C,D);n(B);e++}});function c(E,C,A){var B,D=A?h.map(A,function(F){return(typeof F==="string")?(E.key?F.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+t+'="'+E.key+'" $2'):F):c(F,E,F._ctnt)}):E;if(C){return D}D=D.join("");D.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(G,H,I,F){B=h(I).get();n(B);if(H){B=w(H).concat(B)}if(F){B=B.concat(w(F))}});return B?B:w(D)}function w(B){var A=document.createElement("div");A.innerHTML=B;return h.makeArray(A.childNodes)}function d(A){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+h.trim(A).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(B,I,L,G,K,H,C){var J=h.tmpl.tag[L],D,E,F;if(!J){throw"Unknown template tag: "+L}D=J._default||[];if(H&&!/\w$/.test(K)){K+=H;H=""}if(K){K=x(K);C=C?(","+x(C)+")"):(H?")":"");E=H?(K.indexOf(".")>-1?K+x(H):("("+K+").call($item"+C)):K;F=H?E:"(typeof("+K+")==='function'?("+K+").call($item):("+K+"))"}else{F=E=D.$1||"null"}G=x(G);return"');"+J[I?"close":"open"].split("$notnull_1").join(K?"typeof("+K+")!=='undefined' && ("+K+")!=null":"true").split("$1a").join(F).split("$1").join(E).split("$2").join(G||D.$2||"")+"__.push('"})+"');}return __;")}function y(A,B){A._wrap=c(A,true,h.isArray(B)?B:[f.test(B)?B:h(B).html()]).join("")}function x(A){return A?A.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function l(B){var A=document.createElement("div");A.appendChild(B.cloneNode(true));return A.innerHTML}function n(A){var E="_"+e,B,C,H={},D,F,G;for(D=0,F=A.length;D<F;D++){if((B=A[D]).nodeType!==1){continue}C=B.getElementsByTagName("*");for(G=C.length-1;G>=0;G--){I(C[G])}I(B)}function I(K){var N,O=K,M,P,L;if((L=K.getAttribute(t))){while(O.parentNode&&(O=O.parentNode).nodeType===1&&!(N=O.getAttribute(t))){}if(N!==L){O=O.parentNode?(O.nodeType===11?0:(O.getAttribute(t)||0)):0;if(!(P=j[L])){P=z[L];P=i(P,j[O]||z[O]);P.key=++g;j[g]=P}if(e){J(L)}}K.removeAttribute(t)}else{if(e&&(P=h.data(K,"tmplItem"))){J(P.key);j[P.key]=P;O=h.data(K.parentNode,"tmplItem");O=O?O.key:0}}if(P){M=P;while(M&&M.key!=O){M.nodes.push(K);M=M.parent}delete P._ctnt;delete P._wrap;h.data(K,"tmplItem",P)}function J(Q){Q=Q+E;P=H[Q]=(H[Q]||i(P,j[P.parent.key+E]||P.parent))}}}function o(A,D,B,C){if(!A){return m.pop()}m.push({_:A,tmpl:D,item:this,data:B,options:C})}function q(C,A,B){return h.tmpl(h.template(C),A,B,this)}function s(A,C){var B=A.options||{};B.wrapped=C;return h.tmpl(h.template(A.tmpl),A.data,B,A.item)}function p(A,B){var C=this._wrap;return h.map(h(h.isArray(C)?C.join(""):C).filter(A||"*"),function(D){return B?D.innerText||D.textContent:D.outerHTML||l(D)})}function r(){var A=this.nodes;h.tmpl(null,null,null,this).insertBefore(A[0]);h(A).remove()}})(jQuery);(function(a){var b={init:function(d){var c=a.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:1,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",cssStyle:"light-theme",selectOnClick:true,onPageClick:function(f){},onInit:function(){}},d||{});var e=this;c.pages=c.pages?c.pages:Math.ceil(c.items/c.itemsOnPage)?Math.ceil(c.items/c.itemsOnPage):1;c.currentPage=c.currentPage-1;c.halfDisplayed=c.displayedPages/2;this.each(function(){e.addClass(c.cssStyle).data("pagination",c);b._draw.call(e)});c.onInit();return this},selectPage:function(c){b._selectPage.call(this,c-1);return this},prevPage:function(){var c=this.data("pagination");if(c.currentPage>0){b._selectPage.call(this,c.currentPage-1)}return this},nextPage:function(){var c=this.data("pagination");if(c.currentPage<c.pages-1){b._selectPage.call(this,c.currentPage+1)}return this},destroy:function(){this.empty();return this},redraw:function(){b._draw.call(this);return this},disable:function(){var c=this.data("pagination");c.disabled=true;this.data("pagination",c);b._draw.call(this);return this},enable:function(){var c=this.data("pagination");c.disabled=false;this.data("pagination",c);b._draw.call(this);return this},_draw:function(){var c=this,h=c.data("pagination"),g=b._getInterval(h),f;b.destroy.call(this);if(h.prevText){b._appendItem.call(this,h.currentPage-1,{text:h.prevText,classes:"prev"})}if(g.start>0&&h.edges>0){var e=Math.min(h.edges,g.start);for(f=0;f<e;f++){b._appendItem.call(this,f)}if(h.edges<g.start&&(g.start-h.edges!=1)){c.append('<span class="ellipse">'+h.ellipseText+"</span>")}else{if(g.start-h.edges==1){b._appendItem.call(this,h.edges)}}}for(f=g.start;f<g.end;f++){b._appendItem.call(this,f)}if(g.end<h.pages&&h.edges>0){if(h.pages-h.edges>g.end&&(h.pages-h.edges-g.end!=1)){c.append('<span class="ellipse">'+h.ellipseText+"</span>")}else{if(h.pages-h.edges-g.end==1){b._appendItem.call(this,g.end++)}}var d=Math.max(h.pages-h.edges,g.end);for(f=d;f<h.pages;f++){b._appendItem.call(this,f)}}if(h.nextText){b._appendItem.call(this,h.currentPage+1,{text:h.nextText,classes:"next"})}},_getInterval:function(c){return{start:Math.ceil(c.currentPage>c.halfDisplayed?Math.max(Math.min(c.currentPage-c.halfDisplayed,(c.pages-c.displayedPages)),0):0),end:Math.ceil(c.currentPage>c.halfDisplayed?Math.min(c.currentPage+c.halfDisplayed,c.pages):Math.min(c.displayedPages,c.pages))}},_appendItem:function(g,f){var h=this,e,c,d=h.data("pagination");g=g<0?0:(g<d.pages?g:d.pages-1);e=a.extend({text:g+1,classes:""},f||{});if(g==d.currentPage||d.disabled){c=a('<span class="current">'+(e.text)+"</span>")}else{c=a('<a href="'+d.hrefTextPrefix+(g+1)+d.hrefTextSuffix+'" class="page-link">'+(e.text)+"</a>");c.click(function(){b._selectPage.call(h,g)})}if(e.classes){c.addClass(e.classes)}h.append(c)},_selectPage:function(d){var c=this.data("pagination");c.currentPage=d;if(c.selectOnClick){c.onPageClick(d+1);b._draw.call(this)}else{c.onPageClick(d+1)}}};a.fn.pagination=function(c){if(b[c]&&c.charAt(0)!="_"){return b[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return b.init.apply(this,arguments)}else{a.error("Method "+c+" does not exist on jQuery.pagination")}}}})(jQuery);(function(a){a.extend(jQuery.tmpl.tag,{"for":{_default:{$2:"var i=1;i<=1;i++"},open:"for ($2){",close:"};"}})})(jQuery);var memoryStorage=new Array();function DownstreamCorsSupport(){return(window.XDomainRequest&&(navigator.appVersion.indexOf("MSIE 7.")!=-1||navigator.appVersion.indexOf("MSIE 8.")!=-1||navigator.appVersion.indexOf("MSIE 9.")!=-1))}var rowId=0;function GetRowClass(a,b){rowId++;var c=rowId%2==0?a:b;return c}function truncateSummary(d,c){var a=d,b=(d.length>c);if(b){return $.trim(a).substring(0,c).split(" ").slice(0,-1).join(" ")+"..."}else{return d}}function GetContextHTML(a,b){return GetTmfDataItemGetContextData(0,a,b)}function GetContextImage(a,b){return GetTmfDataItemGetContextData(1,a,b)}function GetTmfDataItemGetContextData(c,a,f){var h=null;try{if(a[f+"_AtTagContext"]!=null){var g=a[f+"_AtTagContext"].split("|");if(g.length>=c){h=(g[c]!=null&&g[c].length>0)?g[c]:null}}}catch(b){console.log(b.message)}return h}function GetTmfDataItemProperty(a,b){var c="";if(a[b]!=null){c=a[b]}return c}function TmfDataItemHasTag(a,c){var e=false;for(var b=0;b<a.length;b++){if(a[b]==c){e=true;break}}return e}function TmfDataList(c,u,d,w,f,i,h,a,e,j,q,p,r,k,t,s,v,o,g,m,n,l,b){this.ClientId=c;this.ServicePath=u;this.Container=d;this.Template=w;this.Engine=f;this.Highlight=i;this.HashTags=h||"";this.AtTags=a||"";this.Mode=k||"";this.Query=t||"";this.DollarTags=e||"";this.MaxRows=j||200;this.PageSize=q||10;this.PageNumber=p||0;this.PlaceholderText=r||"<i>loading...</i>";this.PopulateBody=s||false;this.SourceType=v||0;this.OnComplete=m;this.Ordering=o;this.Fields=g;this.OnError=n;this.OnBeforeComplete=l;this.Caching=b;TmfAPICore.SetObject(this);TmfDataList.prototype.Refresh=function(){this.Load()};TmfDataList.prototype.GoToPage=function(x){if(this.OnBeforeComplete!=null){this.OnBeforeComplete.call()}this.PageNumber=x;this.Load()};TmfDataList.prototype.Load=function(){var x=this.Container;var K=this.Template;var L=this.Query;var D=this.Highlight;var F=this.OnComplete;var C=this.Engine;var G=this.OnError;var B=this.ClientId;var A=this.Caching;if(this.OnBeforeComplete!=null){this.OnBeforeComplete.call()}$("#"+this.Container).html(this.PlaceholderText);var H=(o!=null)?", 'Ordering':"+JSON.stringify(o,null,2):"";var I="{'clientId':'"+this.ClientId+"','hashTags':'"+this.HashTags+"','atTags':'"+this.AtTags+"','dollarTags':'"+this.DollarTags+"','maxRows':'"+this.MaxRows+"','pageSize':'"+this.PageSize+"','pageNumber':'"+this.PageNumber+"','mode':'"+this.Mode+"','query':'"+this.Query+"','populateBody':'"+this.PopulateBody+"','sourceType':"+this.SourceType+H+",'cacheDuration':"+this.Caching.ServerSide.CacheDuration+"}";window.jQuery.support.cors=true;var J=this.ServicePath||TmfSolrAPI_servicePath;if(A.ClientSide.Mode!=null&&A.ClientSide.Mode!="None"){var z=escape(I);var y;if(A.ClientSide.Mode=="LocalStorage"){y=TmfAPICore.GetLocalStorageItem(z,null)}else{if(A.ClientSide.Mode=="SessionStorage"){y=TmfAPICore.GetSessionStorageItem(z,null)}else{if(A.ClientSide.Mode=="Memory"){for(var E=0;E<window.memoryStorage.length;E++){if(window.memoryStorage[E].Key==z){y=window.memoryStorage[E].Data;break}}}}}if(y!=null){window.TmfAPICore.GetObject(B).Data=y;if(C=="tmpl"){$("#"+x).html("");$("#"+K).tmpl(y).appendTo("#"+x)}if(F!=null){F.call(self,y)}return}}if(DownstreamCorsSupport()){var M=new window.XDomainRequest();M.open("GET",J+"?params="+escape(I));M.onerror=function(){if(G!=null){G.call(self,M)}},M.onload=function(){var N=$.parseJSON(M.responseText);if(N==null||typeof(N)=="undefined"){N=$.parseJSON(data.firstChild.textContent)}window.TmfAPICore.GetObject(B).Data=N;if($("#"+x).length>0){$("#"+x).html("");if(C=="tmpl"){$("#"+x).html("");$("#"+K).tmpl(N).appendTo("#"+x)}}if(L!=""&&D){$("#"+x).highlight(L)}if(A.ClientSide.Mode!=null&&A.ClientSide.Mode!="None"){var O=escape(I);if(A.ClientSide.Mode=="LocalStorage"){TmfAPICore.SetLocalStorageItem(O,N)}else{if(A.ClientSide.Mode=="SessionStorage"){TmfAPICore.SetSessionStorageItem(O,N)}else{if(A.ClientSide.Mode=="Memory"){memoryStorage.push({Key:O,Data:N})}}}}if(F!=null){F.call(self,N)}};M.send(I)}else{$.post(J,I,function(N,P){window.TmfAPICore.GetObject(B).Data=N;if($("#"+x).length>0){$("#"+x).html("");if(C=="tmpl"){$("#"+x).html("");$("#"+K).tmpl(N).appendTo("#"+x)}}if(A.ClientSide.Mode!=null&&A.ClientSide.Mode!="None"){var O=escape(I);if(A.ClientSide.Mode=="LocalStorage"){TmfAPICore.SetLocalStorageItem(O,N)}else{if(A.ClientSide.Mode=="SessionStorage"){TmfAPICore.SetSessionStorageItem(O,N)}else{if(A.ClientSide.Mode=="Memory"){memoryStorage.push({Key:O,Data:N})}}}}if(L!=""&&D){$("#"+x).highlight(L)}if(F!=null){F.call(self,N)}},"json").error(function(P,O,N){if(G!=null){G.call(self,P)}})}}}function GetStringsToHighlight(c){c=c.replace("*","");c=c.replace("AND","");c=c.replace("Source","");c=c.replace("Title","");var d=new Array;try{var f=c.split(":");for(var b=0;b<f.length;b++){if(f[b]!=""){d.push(f[b])}}}catch(a){console.log(a.message)}return d}(function(a){a.fn.extend({LoadTmfDataList:function(d){var b={ClientId:"_TmfDataList",ServicePath:null,Template:null,Engine:"handlebars",Highlight:false,HashTags:"",AtTags:"",DollarTags:"",Mode:"Combination",Query:"",MaxRows:"100",PageSize:"5",PageNumber:"0",PlaceholderText:"loading...",PopulateBody:false,SourceType:0,OnComplete:null,Fields:null,Ordering:null,OnError:null,OnBeforeComplete:null,Caching:{ServerSide:{CacheDuration:0},ClientSide:{Mode:"None"}}};var c=a.extend(b,d);return this.each(function(){var g=c;var h=a(this);var e=h.attr("id");if(g.Template==null||(g.Mode=="Uid"&&g.Query=="")||(g.Mode=="Source"&&g.SourceType==0)||(g.Mode=="Query"&&g.Query=="")||(g.Mode=="Combination"&&(g.HashTags==""&&g.AtTags==""&&g.DollarTags==""))){h.html("Unable to load content: Invalid configuration");return}var f=new TmfDataList(g.ClientId,g.ServicePath,e,g.Template,g.Engine,g.Highlight,g.HashTags,g.AtTags,g.DollarTags,g.MaxRows,g.PageSize,g.PageNumber,g.PlaceholderText,g.Mode,g.Query,g.PopulateBody,g.SourceType,g.Ordering,g.Fields,g.OnComplete,g.OnError,g.OnBeforeComplete,g.Caching);f.Load()})}})})(jQuery);!function($){$.fn.highlight=function(pat,ignore){function replaceDiacritics(str){var diacritics=[[/[\u00c0-\u00c6]/g,"A"],[/[\u00e0-\u00e6]/g,"a"],[/[\u00c7]/g,"C"],[/[\u00e7]/g,"c"],[/[\u00c8-\u00cb]/g,"E"],[/[\u00e8-\u00eb]/g,"e"],[/[\u00cc-\u00cf]/g,"I"],[/[\u00ec-\u00ef]/g,"i"],[/[\u00d1|\u0147]/g,"N"],[/[\u00f1|\u0148]/g,"n"],[/[\u00d2-\u00d8|\u0150]/g,"O"],[/[\u00f2-\u00f8|\u0151]/g,"o"],[/[\u0160]/g,"S"],[/[\u0161]/g,"s"],[/[\u00d9-\u00dc]/g,"U"],[/[\u00f9-\u00fc]/g,"u"],[/[\u00dd]/g,"Y"],[/[\u00fd]/g,"y"]];for(var i=0;i<diacritics.length;i++){str=str.replace(diacritics[i][0],diacritics[i][1])}return str}function innerHighlight(node,pat,ignore){var skip=0;if(node.nodeType==3){var isPatternArray=$.isArray(pat);if(!isPatternArray){pat=[pat]}var patternCount=pat.length;for(var ii=0;ii<patternCount;ii++){var currentTerm=(ignore?replaceDiacritics(pat[ii]):pat[ii]).toUpperCase();var pos=(ignore?replaceDiacritics(node.data):node.data).toUpperCase().indexOf(currentTerm);if(pos>=0){var spannode=document.createElement("span");spannode.className="highlight";var middlebit=node.splitText(pos);var endbit=middlebit.splitText(currentTerm.length);var middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);skip=1}}}else{if(node.nodeType==1&&node.childNodes&&!/(script|style)/i.test(node.tagName)){for(var i=0;i<node.childNodes.length;++i){i+=innerHighlight(node.childNodes[i],pat,ignore)}}}return skip}return this.length&&pat&&pat.length?this.each(function(){ignore=typeof ignore!=="undefined"?ignore:$.fn.highlight.defaults.ignore;innerHighlight(this,pat,ignore)}):this};$.fn.highlight.defaults={ignore:false};$.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;with(this.parentNode){replaceChild(this.firstChild,this);normalize()}}).end()}}(window.jQuery);